<?php

namespace Hotmart\Api\Common;

use Hotmart\Api\HotmartSerializable;
class ResultData implements HotmartSerializable
{
    // integer
    private $size;

    // mixed
    private $data;

    // integer
    private $page;

   /**
     * @param $json
     *
     * @return ResultData
     */
    public static function fromJson($json)
    {
        $newObject = new ResultData();
        $json_decoded = json_decode($json);
        $json_decoded = isset($json_decoded->body) ? $json_decoded->body : $json_decoded;
        $newObject->populate($json_decoded);

        return $newObject;
    }

    /**
     * @return array
     */
    public function jsonSerialize()
    {
        return array_filter(get_object_vars($this));
    }

    /**
     * @param \stdClass $data
     *
     * @return mixed
     */
    public function populate(\stdClass $data)
    {
        foreach (get_object_vars($this) as $key => $value) {
            $this->{$key} = $data->{$key} ?? null;
        }
    }
    

    /**
     * Get the value of size
     */ 
    public function getSize()
    {
        return $this->size;
    }

    /**
     * Set the value of size
     *
     * @return  self
     */ 
    public function setSize($size)
    {
        $this->size = $size;

        return $this;
    }

    /**
     * Get the value of data
     */ 
    public function getData()
    {
        return $this->data;
    }

    /**
     * Set the value of data
     *
     * @return  self
     */ 
    public function setData($data)
    {
        $this->data = $data;

        return $this;
    }

    /**
     * Get the value of page
     */ 
    public function getPage()
    {
        return $this->page;
    }

    /**
     * Set the value of page
     *
     * @return  self
     */ 
    public function setPage($page)
    {
        $this->page = $page;

        return $this;
    }
}